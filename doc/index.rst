.. pyGeo documentation master file, created by
   sphinx-quickstart on Sat Dec  7 13:50:49 2013.
   You can adapt this file completely to your liking, but it should at least
   contain the root `toctree` directive.

==========
pyGeo
==========

``pyGeo`` is a package for generating and manipulating geometry, particularly for applications involving shape optimization.

.. image:: images/DPW4_FFD-27745.gif
   :width: 600


==========
Background
==========

*Shape optimization* is a field of engineering which uses applied mathematics and computer simulation to find the best possible shape for an object, such as an aircraft or ship.
In order to do this, optimization software needs to perturb a baseline geometry into a new shape at each iteration.
Users define *design variables* which map numeric inputs from the optimizer to changes in the geometry.

Examples of geometry design variables might include:

- Span, aspect ratio, or sweep in a wing design problem
- Freeboard, deadrise, and beam for a ship design problem
- Blade length, twist distribution, and airfoil shape modes for a wind turbine problem

The set of all geometry design variables and their effects on the baseline geometry is called a *parameterization*.
Parameterizations are not unique, and choosing a good one is both an art and a science.

Some geometries that can be generated by a parameterization are not allowable for physical or other engineering reasons.
For this reason, *geometry constraints* must often also be imposed (such as a minimum volume inside a car's cabin, or a wing thickness).

``pyGeo`` enables users to set up a variety of geometric parameterizations and geometry constraints.
It is particularly useful for *gradient-based* optimization because it provides accurate derivatives of geometry with respect to the design variables.

===================
Package Description
===================

The package consists of the following high-level modules:

- **DVGeometry** (short for "Design Variable Geometry") parameterizes and modifies geometry (point sets) in shape optimization problems, using the Free Form Deformation (FFD) method.
- **DVGeometryESP** enables CAD-based geometry parameterization using Engineering Sketch Pad software
- **DVConstraints** allows users to constrain important geometric parameters during optimization (such as thicknesses and volumes)
- **pyGeo** generates spline surfaces, either from geometry files, or *ab initio* wing surfaces.

============
Installation
============

Installation first requires a working copy of the ``pyspline`` package, which requires a Fortran compiler and is available on `GitHub <https://github.com/mdolab/pyspline/>`_.

To install ``pyGeo``, first clone the `repo <https://github.com/mdolab/pygeo/>`_, then go into the root directory and type::

   pip install .

For stability we recommend cloning or checking out a tagged release.


This package consists of the following modules:

.. toctree::
   :maxdepth: 1

   getting_started
   advanced_ffd
   DVConstraints
   DVGeometry
   pyNetwork
   pyGeo
   pyBlock
